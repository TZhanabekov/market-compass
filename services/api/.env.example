# Market Compass API - Environment Variables
# Copy to .env and fill in values

# App
DEBUG=true
HOST=0.0.0.0
PORT=8080

# Database (PostgreSQL)
DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/market_compass

# Cache (Redis)
REDIS_URL=redis://localhost:6379/0

# CORS
CORS_ORIGINS=["http://localhost:3000"]

# Migrations
# Set to "true" in Railway to run `alembic upgrade head` on deploy/start
AUTO_MIGRATE=false

# SerpAPI (optional - for real data)
SERPAPI_API_KEY=
# Set to "true" to log full SerpAPI response JSON (useful for debugging)
SERPAPI_DEBUG=false

# OpenExchangeRates (optional - for currency conversion)
OPENEXCHANGERATES_KEY=

# LLM (optional - GPT-5-mini fallback for parsing/matching)
# Enable only in production when budget controls are configured.
LLM_ENABLED=false
OPENAI_API_KEY=
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_MODEL_PARSE=gpt-5-mini
# Safety/budget caps for /v1/admin/reconcile runs
LLM_MAX_CALLS_PER_RECONCILE=50
LLM_MAX_FRACTION_PER_RECONCILE=0.2

# Admin: LLM pattern suggestion concurrency (to respect rate limits)
PATTERN_SUGGEST_MAX_CONCURRENCY=2

# Admin: increase completion tokens for patterns/suggest
PATTERN_SUGGEST_MAX_COMPLETION_TOKENS=5000

# Admin: caps for patterns/suggest coverage
PATTERN_SUGGEST_MAX_BATCHES=40
PATTERN_SUGGEST_MAX_ITEMS_PER_BATCH=120
